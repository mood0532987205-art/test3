{#
| Variable                        | Type     | Description                                                                  |
|---------------------------------|----------|------------------------------------------------------------------------------|
| component                       | object   | Contains merchant settings for fields from twilight.json `component` section |
| component.banners               | object[] | list of banners                                                              |
| component.banners[].image       | string   |                                                                              |
| component.banners[].url         | string   |                                                                              |
| component.banners[].title       | ?string  |                                                                              |
| component.banners[].description | ?string  |                                                                              |
| position                        | int      | Sorting number start from zero                                               |
#}

<section class="s-block s-block--banners container mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20">
    {# Section header #}
    <div class="text-center mb-12">
        <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4">
            تصفح مجموعاتنا المميزة
        </h2>
        <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
            اكتشف أحدث المنتجات والعروض الحصرية في متجرنا
        </p>
        <div class="w-24 h-1 bg-gradient-to-r from-primary-600 to-secondary-600 mx-auto mt-6 rounded-full"></div>
    </div>

    {# Enhanced grid layout with modern styling #}
    <div class="grid {{ component.banners|length <= 2 ? 'md:grid-cols-2' : (component.banners|length == 3 ? 'md:grid-cols-3' : 'md:grid-cols-2 lg:grid-cols-3') }} gap-6 lg:gap-8">
        {% for index, banner in component.banners %}
            <div class="group relative overflow-hidden rounded-2xl shadow-elegant hover:shadow-depth transition-all duration-500 transform hover:-translate-y-2">
                {# Enhanced banner link with better accessibility #}
                <a href="{{ banner.url }}" 
                   aria-label="{{ (banner.title ? banner.title : 'square-banner-' ~ index) | e('html_attr') }}" 
                   class="block relative {{ component.banners|length <= 3 ? 'aspect-[4/3]' : 'aspect-square' }} overflow-hidden">
                   
                    {# Background image with parallax effect #}
                    <div 
                        style="background-image: url({{ banner.image }});"
                        class="absolute inset-0 bg-cover bg-center bg-no-repeat transition-transform duration-700 group-hover:scale-110">
                    </div>
                    
                    {# Modern gradient overlay #}
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300"></div>
                    
                    {# Enhanced content area #}
                    {% if banner.title or banner.description %}
                        <div class="absolute inset-0 flex flex-col justify-end p-6 lg:p-8">
                            <div class="transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300">
                                
                                {# Modern badge indicator #}
                                <div class="inline-flex items-center px-3 py-1 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 text-xs font-medium text-white mb-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <span class="w-1.5 h-1.5 bg-primary-400 rounded-full mr-2"></span>
                                    مجموعة مميزة
                                </div>
                                
                                {# Enhanced title #}
                                {% if banner.title %}
                                    <h3 class="text-xl lg:text-2xl font-bold text-white mb-2 leading-tight">
                                        {{ banner.title }}
                                    </h3>
                                {% endif %}
                                
                                {# Enhanced description #}
                                {% if banner.description %}
                                    <p class="text-white/90 text-sm lg:text-base leading-relaxed mb-4 line-clamp-2">
                                        {{ banner.description }}
                                    </p>
                                {% endif %}
                                
                                {# Modern CTA button #}
                                <div class="inline-flex items-center text-white font-semibold text-sm group/btn opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100">
                                    <span class="mr-2">استكشف الآن</span>
                                    <svg class="w-4 h-4 transition-transform group-hover/btn:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    
                    {# Decorative corner element #}
                    <div class="absolute top-4 right-4 w-8 h-8 bg-gradient-to-br from-primary-400/30 to-secondary-400/30 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-200"></div>
                    
                    {# Shimmer effect on hover #}
                    <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
                </a>
                
                {# Loading skeleton for better UX #}
                <div class="absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
            </div>
        {% endfor %}
    </div>
    
    {# Enhanced CSS for modern effects #}
    <style>
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Enhanced aspect ratio utilities */
        .aspect-square {
            aspect-ratio: 1 / 1;
        }
        
        .aspect-\[4\/3\] {
            aspect-ratio: 4 / 3;
        }
        
        /* Custom backdrop blur for older browsers */
        .backdrop-blur-sm {
            backdrop-filter: blur(4px);
        }
        
        /* Enhanced hover effects */
        @media (hover: hover) {
            .group:hover .group\/btn {
                @apply transform translate-x-1;
            }
        }
        
        /* Loading animation improvement */
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: .5;
            }
        }
    </style>
</section>